<mat-toolbar color="primary" class="top-nav">
  <div class="sidenav-content">
    <button type="button" mat-button class="menu-button" (click)="drawer.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
  </div>
  Developer Academy Student Enrollment
  <div class="spacer"></div>
  Zach's Angular App
</mat-toolbar>

<mat-drawer-container class="main-container" autosize>
  <mat-drawer #drawer class="sidenav" mode="side">

    <!--Drawer Icons-->
    <div class="home-button">
      <button mat-icon-button color="primary" aria-label="home icon">
        <mat-icon>home</mat-icon>
      </button>
      <p>Home</p>
    </div>
    <div class="spacer"></div>
    <div class="students-button">
      <button mat-icon-button color="primary" aria-label="student icon">
        <mat-icon>face</mat-icon>
      </button>
      <p>Students</p>
    </div>
    <div class="spacer"></div>
    <div class="courses-button">
      <button mat-icon-button color="primary" aria-label="courses icon">
        <mat-icon>list</mat-icon>
      </button>
      <p>Courses</p>
    </div>
  </mat-drawer>

  <div class="flex-container">
    <div class="add-display-student-container">
      <div class="add-student-form">
        <form>
          <table class="example-full-width">
            <tr>
              <td>
                <!--First Name-->
                <mat-form-field class="example-full-width">
                  <mat-label>First name</mat-label>
                  <input matInput [(ngModel)]="firstName" name="first">
                </mat-form-field>
              </td>
              <td>
                <!--Last Name-->
                <mat-form-field class="example-full-width">
                  <mat-label>Last Name</mat-label>
                  <input matInput [(ngModel)]="lastName" name="last">
                </mat-form-field>
              </td>
            </tr>
          </table>

          <!--Radio Buttons-->
          <div class="radio-buttons">
            <label for="course">Course: </label>
            <mat-radio-group
              id="course"
              aria-label="Select Course"
              [(ngModel)]="selectedCourse"
              name="course"
            >
              @for (course of courses; track course) {
                <mat-radio-button class="radio-button" [value]="course">{{ course }}</mat-radio-button>
              }
            </mat-radio-group>
          </div>
        </form>
        <div class="spacer"></div>
        <button mat-stroked-button (click)="createStudent()" [disabled]="isAddButtonDisabled">
          Add Student
        </button>
      </div>
      <div class="students-container">
        <form>
          <div class="students-title">
            Students
          </div>
          <mat-divider></mat-divider>

          <!--List of Students-->
          <div *ngIf="students.length; else elseListBlock">
            <div class="students-list" *ngFor="let student of students">
              <mat-action-list>
                <button mat-list-item class="student-item" (click)="selectStudent(student)">
                  {{ student.firstName }} {{ student.lastName }}
                  <span>
                    <button class="close" mat-button (click)="deleteStudent(student)">X</button>
                  </span>
                  <div>
                    Course: {{ student.course }}
                  </div>
                </button>
              </mat-action-list>
            </div>
          </div>
          <ng-template #elseListBlock>
            <p class="else-list-block-text"> No students currently enrolled</p>
          </ng-template>
        </form>
      </div>
    </div>
    <div class="edit-student-container">
      <div *ngIf="selectedStudent; else elseBlock" class="edit-student-form">
        <form>
          <table class="example-full-width">
            <tr>
              <td>

                <!--First Name-->
                <mat-form-field class="example-full-width">
                  <mat-label>First name</mat-label>
                  <input matInput [value]="selectedStudent.firstName" [(ngModel)]="selectedStudent.firstName"
                         name="first">
                </mat-form-field>
              </td>
              <td>

                <!--Last Name-->
                <mat-form-field class="example-full-width">
                  <mat-label>Last Name</mat-label>
                  <input matInput [value]="selectedStudent.lastName" [(ngModel)]="selectedStudent.lastName" name="last">
                </mat-form-field>
              </td>
            </tr>
          </table>

          <!--Radio Buttons-->
          <div class="radio-buttons">
            <label for="course">Course: </label>
            <mat-radio-group
              id="course2"
              aria-label="Select Course"
              [value]="selectedStudent.course"
              [(ngModel)]="selectedStudent.course"
              name="course"
            >
              @for (course of courses; track course) {
                <mat-radio-button class="radio-button" [value]="course">{{ course }}</mat-radio-button>
              }
            </mat-radio-group>
          </div>
        </form>
        <div class="spacer"></div>
        <button mat-stroked-button (click)="editStudent(selectedStudent)">
           Edit Student
        </button>
      </div>
      <ng-template #elseBlock>
        <p class="else-block-text"> Please select a student to update</p>
      </ng-template>
    </div>
  </div>
</mat-drawer-container>
